(this["webpackJsonpclinical-log"]=this["webpackJsonpclinical-log"]||[]).push([[0],{100:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(86),a(87),a(88),function(){return r.a.createElement("footer",{className:"app-footer"},r.a.createElement("p",null,"Made as part of a coding challenge"))}),l=a(16),s=(a(89),a(141)),m=a(64),u=a(72),d=a(140),p=a(65),f=a.n(p)()({}),h=function(e){return"".concat(8*e,"px")},E=Object(u.a)({palette:{primary:{main:"#546A7B"},secondary:{main:"#87AEB5"}},overrides:{MuiButton:{root:Object(m.a)({fontSize:"14px",minWidth:"100%",minHeight:h(6)},f.up("md"),{minWidth:h(25)})}}}),v=Object(n.createContext)({isAuthed:!1}),b=function(e){var t=e.children,a=Object(n.useState)({isAuthed:!1}),c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.Provider,{value:[o,i]},r.a.createElement(d.a,{theme:E},t)))},N=function(){var e=Object(n.useContext)(v),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("header",{className:"app-header"},r.a.createElement("div",{className:"app-header_top-bar"}),r.a.createElement("div",{className:"app-header_bottom-bar"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"South Yarra Health and Wellbeing Clinic"),a.isAuthed?r.a.createElement("p",null,"Welcome Chris"):r.a.createElement(s.a,{className:"log-in-button",variant:"contained",color:"primary",href:"#/auth",onClick:function(){c({isAuthed:!0})}},"LOGIN"))))},g=a(54),w=a(10),y=a(49),k=(a(97),a(98),function(){return r.a.createElement("div",{className:"survivor loading-spinner-container"},r.a.createElement("div",{className:"loading-spinner"},r.a.createElement("svg",{className:"loading-spinner-rear"},r.a.createElement("circle",{cx:"50%",cy:"50%",r:"18px"})),r.a.createElement("svg",{className:"loading-spinner-front"},r.a.createElement("circle",{cx:"50%",cy:"50%",r:"18px"}))))}),C=(a(99),function(e){var t=e.children,a=e.className,n=a?" ".concat(a):"";return r.a.createElement("div",{className:"card-container".concat(n)},t)}),O=(a(100),function(e){var t=e.location;return r.a.createElement(C,null,r.a.createElement("nav",{className:"navigation-toolbar"},r.a.createElement(s.a,{variant:"contained",color:"primary",href:"#/newsfeed",disabled:"newsfeed"===t},"Newsfeed"),r.a.createElement(s.a,{variant:"contained",color:"primary",href:"#/clinic",disabled:"clinic"===t},"Clinical Log")))}),j=a(34),S=a.n(j),_=a(45),x=a(71),T=(a(103),a(149)),P=a(151),A=a(150),D=function(e){var t=e.onSubmitParent,a=e.isPublic;return r.a.createElement(C,null,r.a.createElement(x.a,{validate:function(e){var t={};return e.postContent?!a&&e.postContent.includes("@")&&(t.postContent="Mentioned are not allowed in clinical logs"):t.postContent="Post content is required",t},initialValues:{postContent:"",ventCheckbox:!1},onSubmit:function(){var e=Object(_.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.touched,c=e.errors,o=e.isSubmitting,i=e.handleChange,l=e.handleBlur,m=e.handleSubmit;return r.a.createElement("form",{onSubmit:m},r.a.createElement(T.a,{id:"postContent",placeholder:"Enter your post",type:"text",value:t.postContent,onChange:i,variant:"outlined",onBlur:l,fullWidth:!0,className:"post__input"}),c.postContent&&n.postContent&&r.a.createElement("div",{className:"input-feedback"},c.postContent),r.a.createElement("div",{className:"post-submission"},a&&r.a.createElement(P.a,{className:"post-submission__venting",id:"ventCheckbox",control:r.a.createElement(A.a,{value:t.isVent,onChange:i,id:"ventCheckbox"}),label:"I'm just venting"}),r.a.createElement(s.a,{className:"post-submission__submit",color:"primary",variant:"contained",type:"submit",disabled:o},"Submit")))})))},B=(a(104),a(105),function(e){var t=e.imgSrc,a=e.username;return r.a.createElement("div",{className:"icon-container"},t?r.a.createElement("img",{src:t,alt:"Icon for ".concat(a.firstName," ").concat(a.lastName)}):r.a.createElement("p",null,"".concat(a.firstName[0]).concat(a.lastName[0])))}),I=(a(106),function(e){return new Intl.DateTimeFormat("en-AU",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}).format(new Date(e))}),M=function(e){var t=Date.now()-new Date(e).getTime();return t<6e4?"Just Now":t<36e5?t<12e4?"1 minute ago":"".concat(Math.floor(t/6e4)," minutes ago"):t<864e5?t<72e5?"1 hour ago":"".concat(Math.floor(t/36e5)," hours ago"):t<1728e5?"1 day ago":"".concat(Math.floor(t/864e5)," days ago")},V=function(e){var t=e.time,a=e.relative,c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){var e=a?M(t):I(t);s(e),a&&setInterval((function(){return s(M(t))}),6e4)}),[s,t,a]),r.a.createElement("p",null,i)},Z=function(e){var t=e.post;return r.a.createElement(C,{className:"public-post"},r.a.createElement("div",{className:"public-post-top"},r.a.createElement("div",{className:"public-post-top__name"},r.a.createElement(B,{username:t.name}),r.a.createElement("p",null,"".concat(t.name.firstName," ").concat(t.name.lastName))),r.a.createElement("div",{className:"public-post-top__date"},r.a.createElement(V,{time:t.time}))),r.a.createElement("p",{className:"public-post__content"},t.content))},W=[{id:4,name:{firstName:"Enzo",lastName:"Brooks"},time:(new Date).toString(),content:"Up to one-third of patients experience markers of distress during palliative ventilator withdrawal, study finds",isVenting:!1,reacts:{wow:12,haha:0,like:5,sad:0}},{id:3,name:{firstName:"Chris",lastName:"Redfield"},time:"2020-06-15T03:40:44.816Z",content:"Scientists have discovered a population of neurons that control hibernation-like behavior, or torpor, in mice",isVenting:!1,reacts:{wow:0,haha:0,like:12,sad:0}},{id:2,name:{firstName:"Chris",lastName:"Redfield"},time:"2020-06-14T03:40:44.816Z",content:"Scientists have discovered a population of neurons that control hibernation-like behavior, or torpor, in mice",isVenting:!1,reacts:{wow:0,haha:0,like:12,sad:0}},{id:1,name:{firstName:"Enzo",lastName:"Brooks"},time:"2020-06-12T01:30:35.096Z",content:"Today, @Jerry is officially cancer free!",isVenting:!0,reacts:{wow:0,haha:0,like:12,sad:0}}],H=[{id:5,name:{firstName:"Chris",lastName:"Redfield"},time:"2020-06-12T01:30:35.096Z",content:"Patient in room 78 blood pressure is 128/70"},{id:4,name:{firstName:"Samantha",lastName:"Yule"},time:"2020-06-12T01:30:35.096Z",content:"Patient in room 47 is showing decreased signs of self awareness"},{id:3,name:{firstName:"Samantha",lastName:"Yule"},time:"2020-06-12T01:30:35.096Z",content:"Patient in room 78 blood pressure is 134/96"},{id:2,name:{firstName:"Enzo",lastName:"Brooks"},time:"2020-06-12T01:30:35.096Z",content:"Patient in room 78 blood pressure is 139/104"},{id:1,name:{firstName:"Samantha",lastName:"Yule"},time:"2020-06-12T01:30:35.096Z",content:"Patient in room 78 blood pressure is 119/79"}],F=function(){return Math.round(100*Math.random())<101},R=function(e,t){return new Promise((function(a){switch(t){case"like":W[W.length-e].reacts.like++;break;case"haha":W[W.length-e].reacts.haha++;break;case"wow":W[W.length-e].reacts.wow++;break;case"sad":W[W.length-e].reacts.sad++}a(W)}))},z=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),i=Object(l.a)(o,2),m=i[0],u=i[1],d=function(){new Promise((function(e,t){return setTimeout((function(){return F()?e(H):t()}),1e3)})).then((function(e){return c(e)})).catch((function(){return u("Failed to load posts")}))};return Object(n.useEffect)((function(){d()}),[]),m?r.a.createElement(C,null,m," ",r.a.createElement(s.a,{variant:"outlined",color:"secondary",onClick:d},"Try Again")):r.a.createElement("div",{className:"clinic-container"},r.a.createElement("h2",null,"Authed Toolbar"),r.a.createElement(O,{location:"clinic"}),r.a.createElement("h2",null,"Something to say?"),r.a.createElement(D,{onSubmitParent:function(e){var t={id:a?a[0].id+1:1,content:e.postContent,name:{firstName:"Chris",lastName:"Redfield"},time:(new Date).toISOString()};a&&c([t].concat(Object(y.a)(a)))}}),r.a.createElement("h2",null,"Clincal Logs"),a?r.a.createElement("div",{className:"post-container"},a&&a.map((function(e,t){return r.a.createElement(Z,{key:"post_".concat(t),post:e})}))):r.a.createElement(k,null))},J=(a(107),a(108),a(109),a(144)),Y=a(145),L=a(146),U=a(147),q=a(148),G=function(e){var t=e.reacts,a=e.reactHandler;return r.a.createElement("div",{className:"reacts"},r.a.createElement(J.a,{className:"react-entity",color:"primary",id:"like",onClick:function(e){e.preventDefault(),a("like")}},r.a.createElement(Y.a,{color:"secondary"}),r.a.createElement("p",null,t.like)),r.a.createElement(J.a,{className:"react-entity",color:"primary",id:"haha",onClick:function(e){e.preventDefault(),a("haha")}},r.a.createElement(L.a,{color:"secondary"}),r.a.createElement("p",null,t.haha)),r.a.createElement(J.a,{className:"react-entity",color:"primary",id:"wow",onClick:function(e){e.preventDefault(),a("wow")}},r.a.createElement(U.a,{color:"secondary"}),r.a.createElement("p",null,t.wow)),r.a.createElement(J.a,{className:"react-entity",color:"primary",id:"sad",onClick:function(e){e.preventDefault(),a("sad")}},r.a.createElement(q.a,{color:"secondary"}),r.a.createElement("p",null,t.sad)))},$=function(e){var t=e.post,a=e.clickHandler;return r.a.createElement(C,{className:"public-post"},r.a.createElement("div",{className:"public-post-top"},r.a.createElement("div",{className:"public-post-top__name"},r.a.createElement(B,{username:t.name}),r.a.createElement("p",null,"".concat(t.name.firstName," ").concat(t.name.lastName))),r.a.createElement("div",{className:"public-post-top__date"},r.a.createElement(V,{time:t.time,relative:!0}),t.isVenting&&r.a.createElement("p",null,"I'm just venting"))),r.a.createElement("p",{className:"public-post__content"},t.content),r.a.createElement(G,{reacts:t.reacts,reactHandler:function(e){a({eventType:e,id:t.id})}}))},K=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),i=Object(l.a)(o,2),m=i[0],u=i[1],d=Object(n.useContext)(v),p=Object(l.a)(d,1)[0],f=function(){new Promise((function(e,t){return setTimeout((function(){return F()?e(W):t()}),1e3)})).then((function(e){return c(e)})).catch((function(){return u("Failed to load posts")}))},h=function(){var e=Object(_.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t.id,t.eventType);case 2:a=e.sent,c(null),c(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a||f()}),[a]),m?r.a.createElement(C,null,m," ",r.a.createElement(s.a,{variant:"outlined",color:"secondary",onClick:f},"Try Again")):r.a.createElement("div",{className:"newsfeed-container"},p.isAuthed&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Authed Toolbar"),r.a.createElement(O,{location:"newsfeed"}),r.a.createElement("h2",null,"Something to say?"),r.a.createElement(D,{onSubmitParent:function(e){var t={id:a?a[0].id+1:1,content:e.postContent,isVenting:e.ventCheckbox,name:{firstName:"Chris",lastName:"Redfield"},time:(new Date).toISOString(),reacts:{like:0,haha:0,wow:0,sad:0}};c(a?[t].concat(Object(y.a)(a)):[t]),function(e){new Promise((function(t){W.unshift(e),t()}))}(t)},isPublic:!0})),r.a.createElement("h2",null,"Newsfeed"),a?r.a.createElement("div",{className:"post-container"},a&&a.map((function(e,t){return r.a.createElement($,{key:"post_".concat(t),post:e,clickHandler:h})}))):r.a.createElement(k,null))},Q=a(73),X=function(e){var t=e.component,a=Object(Q.a)(e,["component"]),c=t,o=Object(n.useContext)(v),i=Object(l.a)(o,1)[0];return r.a.createElement(w.b,Object.assign({},a,{render:function(e){return!0===i.isAuthed?r.a.createElement(c,e):r.a.createElement(w.a,{to:"/newsfeed"})}}))},ee=function(){return r.a.createElement(g.a,{basename:"/"},r.a.createElement(w.d,null,r.a.createElement(X,{path:"/clinic",component:z}),r.a.createElement(w.b,{path:"/newsfeed",component:K}),r.a.createElement(w.b,{path:"/*",exact:!0},r.a.createElement(w.a,{to:"/newsfeed"}))))},te=function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(b,null,r.a.createElement(N,null),r.a.createElement("section",{className:"app"},r.a.createElement(ee,null)),r.a.createElement(i,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){e.exports=a(111)},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.7e41ffb7.chunk.js.map